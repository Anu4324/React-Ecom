/*!
Waypoints - 4.0.1
Copyright Â© 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!(function () {
  "use strict";
  function t(o) {
    if (!o) throw new Error("No options passed to Waypoint constructor");
    if (!o.element)
      throw new Error("No element option passed to Waypoint constructor");
    if (!o.handler)
      throw new Error("No handler option passed to Waypoint constructor");
    (this.key = "waypoint-" + e),
      (this.options = t.Adapter.extend({}, t.defaults, o)),
      (this.element = this.options.element),
      (this.adapter = new t.Adapter(this.element)),
      (this.callback = o.handler),
      (this.axis = this.options.horizontal ? "horizontal" : "vertical"),
      (this.enabled = this.options.enabled),
      (this.triggerPoint = null),
      (this.group = t.Group.findOrCreate({
        name: this.options.group,
        axis: this.axis,
      })),
      (this.context = t.Context.findOrCreateByElement(this.options.context)),
      t.offsetAliases[this.options.offset] &&
        (this.options.offset = t.offsetAliases[this.options.offset]),
      this.group.add(this),
      this.context.add(this),
      (i[this.key] = this),
      (e += 1);
  }
  var e = 0,
    i = {};
  (t.prototype.queueTrigger = function (t) {
    this.group.queueTrigger(this, t);
  }),
    (t.prototype.trigger = function (t) {
      this.enabled && this.callback && this.callback.apply(this, t);
    }),
    (t.prototype.destroy = function () {
      this.context.remove(this), this.group.remove(this), delete i[this.key];
    }),
    (t.prototype.disable = function () {
      return (this.enabled = !1), this;
    }),
    (t.prototype.enable = function () {
      return this.context.refresh(), (this.enabled = !0), this;
    }),
    (t.prototype.next = function () {
      return this.group.next(this);
    }),
    (t.prototype.previous = function () {
      return this.group.previous(this);
    }),
    (t.invokeAll = function (t) {
      var e = [];
      for (var o in i) e.push(i[o]);
      for (var n = 0, r = e.length; r > n; n++) e[n][t]();
    }),
    (t.destroyAll = function () {
      t.invokeAll("destroy");
    }),
    (t.disableAll = function () {
      t.invokeAll("disable");
    }),
    (t.enableAll = function () {
      t.Context.refreshAll();
      for (var e in i) i[e].enabled = !0;
      return this;
    }),
    (t.refreshAll = function () {
      t.Context.refreshAll();
    }),
    (t.viewportHeight = function () {
      return window.innerHeight || document.documentElement.clientHeight;
    }),
    (t.viewportWidth = function () {
      return document.documentElement.clientWidth;
    }),
    (t.adapters = []),
    (t.defaults = {
      context: window,
      continuous: !0,
      enabled: !0,
      group: "default",
      horizontal: !1,
      offset: 0,
    }),
    (t.offsetAliases = {
      "bottom-in-view": function () {
        return this.context.innerHeight() - this.adapter.outerHeight();
      },
      "right-in-view": function () {
        return this.context.innerWidth() - this.adapter.outerWidth();
      },
    }),
    (window.Waypoint = t);
})(),
  (function () {
    "use strict";
    function t(t) {
      window.setTimeout(t, 1e3 / 60);
    }
    function e(t) {
      (this.element = t),
        (this.Adapter = n.Adapter),
        (this.adapter = new this.Adapter(t)),
        (this.key = "waypoint-context-" + i),
        (this.didScroll = !1),
        (this.didResize = !1),
        (this.oldScroll = {
          x: this.adapter.scrollLeft(),
          y: this.adapter.scrollTop(),
        }),
        (this.waypoints = { vertical: {}, horizontal: {} }),
        (t.waypointContextKey = this.key),
        (o[t.waypointContextKey] = this),
        (i += 1),
        n.windowContext ||
          ((n.windowContext = !0), (n.windowContext = new e(window))),
        this.createThrottledScrollHandler(),
        this.createThrottledResizeHandler();
    }
    var i = 0,
      o = {},
      n = window.Waypoint,
      r = window.onload;
    (e.prototype.add = function (t) {
      var e = t.options.horizontal ? "horizontal" : "vertical";
      (this.waypoints[e][t.key] = t), this.refresh();
    }),
      (e.prototype.checkEmpty = function () {
        var t = this.Adapter.isEmptyObject(this.waypoints.horizontal),
          e = this.Adapter.isEmptyObject(this.waypoints.vertical),
          i = this.element == this.element.window;
        t && e && !i && (this.adapter.off(".waypoints"), delete o[this.key]);
      }),
      (e.prototype.createThrottledResizeHandler = function () {
        function t() {
          e.handleResize(), (e.didResize = !1);
        }
        var e = this;
        this.adapter.on("resize.waypoints", function () {
          e.didResize || ((e.didResize = !0), n.requestAnimationFrame(t));
        });
      }),
      (e.prototype.createThrottledScrollHandler = function () {
        function t() {
          e.handleScroll(), (e.didScroll = !1);
        }
        var e = this;
        this.adapter.on("scroll.waypoints", function () {
          (!e.didScroll || n.isTouch) &&
            ((e.didScroll = !0), n.requestAnimationFrame(t));
        });
      }),
      (e.prototype.handleResize = function () {
        n.Context.refreshAll();
      }),
      (e.prototype.handleScroll = function () {
        var t = {},
          e = {
            horizontal: {
              newScroll: this.adapter.scrollLeft(),
              oldScroll: this.oldScroll.x,
              forward: "right",
              backward: "left",
            },
            vertical: {
              newScroll: this.adapter.scrollTop(),
              oldScroll: this.oldScroll.y,
              forward: "down",
              backward: "up",
            },
          };
        for (var i in e) {
          var o = e[i],
            n = o.newScroll > o.oldScroll,
            r = n ? o.forward : o.backward;
          for (var s in this.waypoints[i]) {
            var a = this.waypoints[i][s];
            if (null !== a.triggerPoint) {
              var l = o.oldScroll < a.triggerPoint,
                h = o.newScroll >= a.triggerPoint,
                p = l && h,
                u = !l && !h;
              (p || u) && (a.queueTrigger(r), (t[a.group.id] = a.group));
            }
          }
        }
        for (var c in t) t[c].flushTriggers();
        this.oldScroll = { x: e.horizontal.newScroll, y: e.vertical.newScroll };
      }),
      (e.prototype.innerHeight = function () {
        return this.element == this.element.window
          ? n.viewportHeight()
          : this.adapter.innerHeight();
      }),
      (e.prototype.remove = function (t) {
        delete this.waypoints[t.axis][t.key], this.checkEmpty();
      }),
      (e.prototype.innerWidth = function () {
        return this.element == this.element.window
          ? n.viewportWidth()
          : this.adapter.innerWidth();
      }),
      (e.prototype.destroy = function () {
        var t = [];
        for (var e in this.waypoints)
          for (var i in this.waypoints[e]) t.push(this.waypoints[e][i]);
        for (var o = 0, n = t.length; n > o; o++) t[o].destroy();
      }),
      (e.prototype.refresh = function () {
        var t,
          e = this.element == this.element.window,
          i = e ? void 0 : this.adapter.offset(),
          o = {};
        this.handleScroll(),
          (t = {
            horizontal: {
              contextOffset: e ? 0 : i.left,
              contextScroll: e ? 0 : this.oldScroll.x,
              contextDimension: this.innerWidth(),
              oldScroll: this.oldScroll.x,
              forward: "right",
              backward: "left",
              offsetProp: "left",
            },
            vertical: {
              contextOffset: e ? 0 : i.top,
              contextScroll: e ? 0 : this.oldScroll.y,
              contextDimension: this.innerHeight(),
              oldScroll: this.oldScroll.y,
              forward: "down",
              backward: "up",
              offsetProp: "top",
            },
          });
        for (var r in t) {
          var s = t[r];
          for (var a in this.waypoints[r]) {
            var l,
              h,
              p,
              u,
              c,
              d = this.waypoints[r][a],
              f = d.options.offset,
              w = d.triggerPoint,
              y = 0,
              g = null == w;
            d.element !== d.element.window &&
              (y = d.adapter.offset()[s.offsetProp]),
              "function" == typeof f
                ? (f = f.apply(d))
                : "string" == typeof f &&
                  ((f = parseFloat(f)),
                  d.options.offset.indexOf("%") > -1 &&
                    (f = Math.ceil((s.contextDimension * f) / 100))),
              (l = s.contextScroll - s.contextOffset),
              (d.triggerPoint = Math.floor(y + l - f)),
              (h = w < s.oldScroll),
              (p = d.triggerPoint >= s.oldScroll),
              (u = h && p),
              (c = !h && !p),
              !g && u
                ? (d.queueTrigger(s.backward), (o[d.group.id] = d.group))
                : !g && c
                ? (d.queueTrigger(s.forward), (o[d.group.id] = d.group))
                : g &&
                  s.oldScroll >= d.triggerPoint &&
                  (d.queueTrigger(s.forward), (o[d.group.id] = d.group));
          }
        }
        return (
          n.requestAnimationFrame(function () {
            for (var t in o) o[t].flushTriggers();
          }),
          this
        );
      }),
      (e.findOrCreateByElement = function (t) {
        return e.findByElement(t) || new e(t);
      }),
      (e.refreshAll = function () {
        for (var t in o) o[t].refresh();
      }),
      (e.findByElement = function (t) {
        return o[t.waypointContextKey];
      }),
      (window.onload = function () {
        r && r(), e.refreshAll();
      }),
      (n.requestAnimationFrame = function (e) {
        var i =
          window.requestAnimationFrame ||
          window.mozRequestAnimationFrame ||
          window.webkitRequestAnimationFrame ||
          t;
        i.call(window, e);
      }),
      (n.Context = e);
  })(),
  (function () {
    "use strict";
    function t(t, e) {
      return t.triggerPoint - e.triggerPoint;
    }
    function e(t, e) {
      return e.triggerPoint - t.triggerPoint;
    }
    function i(t) {
      (this.name = t.name),
        (this.axis = t.axis),
        (this.id = this.name + "-" + this.axis),
        (this.waypoints = []),
        this.clearTriggerQueues(),
        (o[this.axis][this.name] = this);
    }
    var o = { vertical: {}, horizontal: {} },
      n = window.Waypoint;
    (i.prototype.add = function (t) {
      this.waypoints.push(t);
    }),
      (i.prototype.clearTriggerQueues = function () {
        this.triggerQueues = { up: [], down: [], left: [], right: [] };
      }),
      (i.prototype.flushTriggers = function () {
        for (var i in this.triggerQueues) {
          var o = this.triggerQueues[i],
            n = "up" === i || "left" === i;
          o.sort(n ? e : t);
          for (var r = 0, s = o.length; s > r; r += 1) {
            var a = o[r];
            (a.options.continuous || r === o.length - 1) && a.trigger([i]);
          }
        }
        this.clearTriggerQueues();
      }),
      (i.prototype.next = function (e) {
        this.waypoints.sort(t);
        var i = n.Adapter.inArray(e, this.waypoints),
          o = i === this.waypoints.length - 1;
        return o ? null : this.waypoints[i + 1];
      }),
      (i.prototype.previous = function (e) {
        this.waypoints.sort(t);
        var i = n.Adapter.inArray(e, this.waypoints);
        return i ? this.waypoints[i - 1] : null;
      }),
      (i.prototype.queueTrigger = function (t, e) {
        this.triggerQueues[e].push(t);
      }),
      (i.prototype.remove = function (t) {
        var e = n.Adapter.inArray(t, this.waypoints);
        e > -1 && this.waypoints.splice(e, 1);
      }),
      (i.prototype.first = function () {
        return this.waypoints[0];
      }),
      (i.prototype.last = function () {
        return this.waypoints[this.waypoints.length - 1];
      }),
      (i.findOrCreate = function (t) {
        return o[t.axis][t.name] || new i(t);
      }),
      (n.Group = i);
  })(),
  (function () {
    "use strict";
    function t(t) {
      this.$element = e(t);
    }
    var e = window.jQuery,
      i = window.Waypoint;
    e.each(
      [
        "innerHeight",
        "innerWidth",
        "off",
        "offset",
        "on",
        "outerHeight",
        "outerWidth",
        "scrollLeft",
        "scrollTop",
      ],
      function (e, i) {
        t.prototype[i] = function () {
          var t = Array.prototype.slice.call(arguments);
          return this.$element[i].apply(this.$element, t);
        };
      }
    ),
      e.each(["extend", "inArray", "isEmptyObject"], function (i, o) {
        t[o] = e[o];
      }),
      i.adapters.push({ name: "jquery", Adapter: t }),
      (i.Adapter = t);
  })(),
  (function () {
    "use strict";
    function t(t) {
      return function () {
        var i = [],
          o = arguments[0];
        return (
          t.isFunction(arguments[0]) &&
            ((o = t.extend({}, arguments[1])), (o.handler = arguments[0])),
          this.each(function () {
            var n = t.extend({}, o, { element: this });
            "string" == typeof n.context &&
              (n.context = t(this).closest(n.context)[0]),
              i.push(new e(n));
          }),
          i
        );
      };
    }
    var e = window.Waypoint;
    window.jQuery && (window.jQuery.fn.waypoint = t(window.jQuery)),
      window.Zepto && (window.Zepto.fn.waypoint = t(window.Zepto));
  })();
  !(function (n) {
    "function" == typeof define && define.amd
      ? define(["jquery"], function (e) {
          return n(e);
        })
      : "object" == typeof module && "object" == typeof module.exports
      ? (exports = n(require("jquery")))
      : n(jQuery);
  })(function (n) {
    function e(n) {
      var e = 7.5625,
        t = 2.75;
      return n < 1 / t
        ? e * n * n
        : n < 2 / t
        ? e * (n -= 1.5 / t) * n + 0.75
        : n < 2.5 / t
        ? e * (n -= 2.25 / t) * n + 0.9375
        : e * (n -= 2.625 / t) * n + 0.984375;
    }
    void 0 !== n.easing && (n.easing.jswing = n.easing.swing);
    var t = Math.pow,
      u = Math.sqrt,
      r = Math.sin,
      i = Math.cos,
      a = Math.PI,
      c = 1.70158,
      o = 1.525 * c,
      s = (2 * a) / 3,
      f = (2 * a) / 4.5;
    n.extend(n.easing, {
      def: "easeOutQuad",
      swing: function (e) {
        return n.easing[n.easing.def](e);
      },
      easeInQuad: function (n) {
        return n * n;
      },
      easeOutQuad: function (n) {
        return 1 - (1 - n) * (1 - n);
      },
      easeInOutQuad: function (n) {
        return n < 0.5 ? 2 * n * n : 1 - t(-2 * n + 2, 2) / 2;
      },
      easeInCubic: function (n) {
        return n * n * n;
      },
      easeOutCubic: function (n) {
        return 1 - t(1 - n, 3);
      },
      easeInOutCubic: function (n) {
        return n < 0.5 ? 4 * n * n * n : 1 - t(-2 * n + 2, 3) / 2;
      },
      easeInQuart: function (n) {
        return n * n * n * n;
      },
      easeOutQuart: function (n) {
        return 1 - t(1 - n, 4);
      },
      easeInOutQuart: function (n) {
        return n < 0.5 ? 8 * n * n * n * n : 1 - t(-2 * n + 2, 4) / 2;
      },
      easeInQuint: function (n) {
        return n * n * n * n * n;
      },
      easeOutQuint: function (n) {
        return 1 - t(1 - n, 5);
      },
      easeInOutQuint: function (n) {
        return n < 0.5 ? 16 * n * n * n * n * n : 1 - t(-2 * n + 2, 5) / 2;
      },
      easeInSine: function (n) {
        return 1 - i((n * a) / 2);
      },
      easeOutSine: function (n) {
        return r((n * a) / 2);
      },
      easeInOutSine: function (n) {
        return -(i(a * n) - 1) / 2;
      },
      easeInExpo: function (n) {
        return 0 === n ? 0 : t(2, 10 * n - 10);
      },
      easeOutExpo: function (n) {
        return 1 === n ? 1 : 1 - t(2, -10 * n);
      },
      easeInOutExpo: function (n) {
        return 0 === n
          ? 0
          : 1 === n
          ? 1
          : n < 0.5
          ? t(2, 20 * n - 10) / 2
          : (2 - t(2, -20 * n + 10)) / 2;
      },
      easeInCirc: function (n) {
        return 1 - u(1 - t(n, 2));
      },
      easeOutCirc: function (n) {
        return u(1 - t(n - 1, 2));
      },
      easeInOutCirc: function (n) {
        return n < 0.5
          ? (1 - u(1 - t(2 * n, 2))) / 2
          : (u(1 - t(-2 * n + 2, 2)) + 1) / 2;
      },
      easeInElastic: function (n) {
        return 0 === n
          ? 0
          : 1 === n
          ? 1
          : -t(2, 10 * n - 10) * r((10 * n - 10.75) * s);
      },
      easeOutElastic: function (n) {
        return 0 === n
          ? 0
          : 1 === n
          ? 1
          : t(2, -10 * n) * r((10 * n - 0.75) * s) + 1;
      },
      easeInOutElastic: function (n) {
        return 0 === n
          ? 0
          : 1 === n
          ? 1
          : n < 0.5
          ? -(t(2, 20 * n - 10) * r((20 * n - 11.125) * f)) / 2
          : (t(2, -20 * n + 10) * r((20 * n - 11.125) * f)) / 2 + 1;
      },
      easeInBack: function (n) {
        return (c + 1) * n * n * n - c * n * n;
      },
      easeOutBack: function (n) {
        return 1 + (c + 1) * t(n - 1, 3) + c * t(n - 1, 2);
      },
      easeInOutBack: function (n) {
        return n < 0.5
          ? (t(2 * n, 2) * (7.189819 * n - o)) / 2
          : (t(2 * n - 2, 2) * ((o + 1) * (2 * n - 2) + o) + 2) / 2;
      },
      easeInBounce: function (n) {
        return 1 - e(1 - n);
      },
      easeOutBounce: e,
      easeInOutBounce: function (n) {
        return n < 0.5 ? (1 - e(1 - 2 * n)) / 2 : (1 + e(2 * n - 1)) / 2;
      },
    });
  });

  /*!
 * Lightbox v2.11.4
 * by Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */
!(function (a, b) {
    "function" == typeof define && define.amd
      ? define(["jquery"], b)
      : "object" == typeof exports
      ? (module.exports = b(require("jquery")))
      : (a.lightbox = b(a.jQuery));
  })(this, function (a) {
    function b(b) {
      (this.album = []),
        (this.currentImageIndex = void 0),
        this.init(),
        (this.options = a.extend({}, this.constructor.defaults)),
        this.option(b);
    }
    return (
      (b.defaults = {
        albumLabel: "Image %1 of %2",
        alwaysShowNavOnTouchDevices: !1,
        fadeDuration: 600,
        fitImagesInViewport: !0,
        imageFadeDuration: 600,
        positionFromTop: 50,
        resizeDuration: 700,
        showImageNumberLabel: !0,
        wrapAround: !1,
        disableScrolling: !1,
        sanitizeTitle: !1,
      }),
      (b.prototype.option = function (b) {
        a.extend(this.options, b);
      }),
      (b.prototype.imageCountLabel = function (a, b) {
        return this.options.albumLabel.replace(/%1/g, a).replace(/%2/g, b);
      }),
      (b.prototype.init = function () {
        var b = this;
        a(document).ready(function () {
          b.enable(), b.build();
        });
      }),
      (b.prototype.enable = function () {
        var b = this;
        a("body").on(
          "click",
          "a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",
          function (c) {
            return b.start(a(c.currentTarget)), !1;
          }
        );
      }),
      (b.prototype.build = function () {
        if (!(a("#lightbox").length > 0)) {
          var b = this;
          a(
            '<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image" href="" ></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>'
          ).appendTo(a("body")),
            (this.$lightbox = a("#lightbox")),
            (this.$overlay = a("#lightboxOverlay")),
            (this.$outerContainer = this.$lightbox.find(".lb-outerContainer")),
            (this.$container = this.$lightbox.find(".lb-container")),
            (this.$image = this.$lightbox.find(".lb-image")),
            (this.$nav = this.$lightbox.find(".lb-nav")),
            (this.containerPadding = {
              top: parseInt(this.$container.css("padding-top"), 10),
              right: parseInt(this.$container.css("padding-right"), 10),
              bottom: parseInt(this.$container.css("padding-bottom"), 10),
              left: parseInt(this.$container.css("padding-left"), 10),
            }),
            (this.imageBorderWidth = {
              top: parseInt(this.$image.css("border-top-width"), 10),
              right: parseInt(this.$image.css("border-right-width"), 10),
              bottom: parseInt(this.$image.css("border-bottom-width"), 10),
              left: parseInt(this.$image.css("border-left-width"), 10),
            }),
            this.$overlay.hide().on("click", function () {
              return b.end(), !1;
            }),
            this.$lightbox.hide().on("click", function (c) {
              "lightbox" === a(c.target).attr("id") && b.end();
            }),
            this.$outerContainer.on("click", function (c) {
              return "lightbox" === a(c.target).attr("id") && b.end(), !1;
            }),
            this.$lightbox.find(".lb-prev").on("click", function () {
              return (
                0 === b.currentImageIndex
                  ? b.changeImage(b.album.length - 1)
                  : b.changeImage(b.currentImageIndex - 1),
                !1
              );
            }),
            this.$lightbox.find(".lb-next").on("click", function () {
              return (
                b.currentImageIndex === b.album.length - 1
                  ? b.changeImage(0)
                  : b.changeImage(b.currentImageIndex + 1),
                !1
              );
            }),
            this.$nav.on("mousedown", function (a) {
              3 === a.which &&
                (b.$nav.css("pointer-events", "none"),
                b.$lightbox.one("contextmenu", function () {
                  setTimeout(
                    function () {
                      this.$nav.css("pointer-events", "auto");
                    }.bind(b),
                    0
                  );
                }));
            }),
            this.$lightbox
              .find(".lb-loader, .lb-close")
              .on("click keyup", function (a) {
                if (
                  "click" === a.type ||
                  ("keyup" === a.type && (13 === a.which || 32 === a.which))
                )
                  return b.end(), !1;
              });
        }
      }),
      (b.prototype.start = function (b) {
        function c(a) {
          d.album.push({
            alt: a.attr("data-alt"),
            link: a.attr("href"),
            title: a.attr("data-title") || a.attr("title"),
          });
        }
        var d = this,
          e = a(window);
        e.on("resize", a.proxy(this.sizeOverlay, this)),
          this.sizeOverlay(),
          (this.album = []);
        var f,
          g = 0,
          h = b.attr("data-lightbox");
        if (h) {
          f = a(b.prop("tagName") + '[data-lightbox="' + h + '"]');
          for (var i = 0; i < f.length; i = ++i)
            c(a(f[i])), f[i] === b[0] && (g = i);
        } else if ("lightbox" === b.attr("rel")) c(b);
        else {
          f = a(b.prop("tagName") + '[rel="' + b.attr("rel") + '"]');
          for (var j = 0; j < f.length; j = ++j)
            c(a(f[j])), f[j] === b[0] && (g = j);
        }
        var k = e.scrollTop() + this.options.positionFromTop,
          l = e.scrollLeft();
        this.$lightbox
          .css({ top: k + "px", left: l + "px" })
          .fadeIn(this.options.fadeDuration),
          this.options.disableScrolling &&
            a("body").addClass("lb-disable-scrolling"),
          this.changeImage(g);
      }),
      (b.prototype.changeImage = function (b) {
        var c = this,
          d = this.album[b].link,
          e = d.split(".").slice(-1)[0],
          f = this.$lightbox.find(".lb-image");
        this.disableKeyboardNav(),
          this.$overlay.fadeIn(this.options.fadeDuration),
          a(".lb-loader").fadeIn("slow"),
          this.$lightbox
            .find(
              ".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption"
            )
            .hide(),
          this.$outerContainer.addClass("animating");
        var g = new Image();
        (g.onload = function () {
          var h, i, j, k, l, m;
          f.attr({ alt: c.album[b].alt, src: d }),
            a(g),
            f.width(g.width),
            f.height(g.height);
          var n = g.width / g.height;
          (m = a(window).width()),
            (l = a(window).height()),
            (k =
              m -
              c.containerPadding.left -
              c.containerPadding.right -
              c.imageBorderWidth.left -
              c.imageBorderWidth.right -
              20),
            (j =
              l -
              c.containerPadding.top -
              c.containerPadding.bottom -
              c.imageBorderWidth.top -
              c.imageBorderWidth.bottom -
              c.options.positionFromTop -
              70),
            "svg" === e
              ? (n >= 1
                  ? ((i = k), (h = parseInt(k / n, 10)))
                  : ((i = parseInt(j / n, 10)), (h = j)),
                f.width(i),
                f.height(h))
              : (c.options.fitImagesInViewport
                  ? (c.options.maxWidth &&
                      c.options.maxWidth < k &&
                      (k = c.options.maxWidth),
                    c.options.maxHeight &&
                      c.options.maxHeight < j &&
                      (j = c.options.maxHeight))
                  : ((k = c.options.maxWidth || g.width || k),
                    (j = c.options.maxHeight || g.height || j)),
                (g.width > k || g.height > j) &&
                  (g.width / k > g.height / j
                    ? ((i = k),
                      (h = parseInt(g.height / (g.width / i), 10)),
                      f.width(i),
                      f.height(h))
                    : ((h = j),
                      (i = parseInt(g.width / (g.height / h), 10)),
                      f.width(i),
                      f.height(h)))),
            c.sizeContainer(f.width(), f.height());
        }),
          (g.src = this.album[b].link),
          (this.currentImageIndex = b);
      }),
      (b.prototype.sizeOverlay = function () {
        var b = this;
        setTimeout(function () {
          b.$overlay.width(a(document).width()).height(a(document).height());
        }, 0);
      }),
      (b.prototype.sizeContainer = function (a, b) {
        function c() {
          d.$lightbox.find(".lb-dataContainer").width(g),
            d.$lightbox.find(".lb-prevLink").height(h),
            d.$lightbox.find(".lb-nextLink").height(h),
            d.$overlay.trigger("focus"),
            d.showImage();
        }
        var d = this,
          e = this.$outerContainer.outerWidth(),
          f = this.$outerContainer.outerHeight(),
          g =
            a +
            this.containerPadding.left +
            this.containerPadding.right +
            this.imageBorderWidth.left +
            this.imageBorderWidth.right,
          h =
            b +
            this.containerPadding.top +
            this.containerPadding.bottom +
            this.imageBorderWidth.top +
            this.imageBorderWidth.bottom;
        e !== g || f !== h
          ? this.$outerContainer.animate(
              { width: g, height: h },
              this.options.resizeDuration,
              "swing",
              function () {
                c();
              }
            )
          : c();
      }),
      (b.prototype.showImage = function () {
        this.$lightbox.find(".lb-loader").stop(!0).hide(),
          this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),
          this.updateNav(),
          this.updateDetails(),
          this.preloadNeighboringImages(),
          this.enableKeyboardNav();
      }),
      (b.prototype.updateNav = function () {
        var a = !1;
        try {
          document.createEvent("TouchEvent"),
            (a = !!this.options.alwaysShowNavOnTouchDevices);
        } catch (a) {}
        this.$lightbox.find(".lb-nav").show(),
          this.album.length > 1 &&
            (this.options.wrapAround
              ? (a &&
                  this.$lightbox.find(".lb-prev, .lb-next").css("opacity", "1"),
                this.$lightbox.find(".lb-prev, .lb-next").show())
              : (this.currentImageIndex > 0 &&
                  (this.$lightbox.find(".lb-prev").show(),
                  a && this.$lightbox.find(".lb-prev").css("opacity", "1")),
                this.currentImageIndex < this.album.length - 1 &&
                  (this.$lightbox.find(".lb-next").show(),
                  a && this.$lightbox.find(".lb-next").css("opacity", "1"))));
      }),
      (b.prototype.updateDetails = function () {
        var a = this;
        if (
          void 0 !== this.album[this.currentImageIndex].title &&
          "" !== this.album[this.currentImageIndex].title
        ) {
          var b = this.$lightbox.find(".lb-caption");
          this.options.sanitizeTitle
            ? b.text(this.album[this.currentImageIndex].title)
            : b.html(this.album[this.currentImageIndex].title),
            b.fadeIn("fast");
        }
        if (this.album.length > 1 && this.options.showImageNumberLabel) {
          var c = this.imageCountLabel(
            this.currentImageIndex + 1,
            this.album.length
          );
          this.$lightbox.find(".lb-number").text(c).fadeIn("fast");
        } else this.$lightbox.find(".lb-number").hide();
        this.$outerContainer.removeClass("animating"),
          this.$lightbox
            .find(".lb-dataContainer")
            .fadeIn(this.options.resizeDuration, function () {
              return a.sizeOverlay();
            });
      }),
      (b.prototype.preloadNeighboringImages = function () {
        if (this.album.length > this.currentImageIndex + 1) {
          new Image().src = this.album[this.currentImageIndex + 1].link;
        }
        if (this.currentImageIndex > 0) {
          new Image().src = this.album[this.currentImageIndex - 1].link;
        }
      }),
      (b.prototype.enableKeyboardNav = function () {
        this.$lightbox.on("keyup.keyboard", a.proxy(this.keyboardAction, this)),
          this.$overlay.on("keyup.keyboard", a.proxy(this.keyboardAction, this));
      }),
      (b.prototype.disableKeyboardNav = function () {
        this.$lightbox.off(".keyboard"), this.$overlay.off(".keyboard");
      }),
      (b.prototype.keyboardAction = function (a) {
        var b = a.keyCode;
        27 === b
          ? (a.stopPropagation(), this.end())
          : 37 === b
          ? 0 !== this.currentImageIndex
            ? this.changeImage(this.currentImageIndex - 1)
            : this.options.wrapAround &&
              this.album.length > 1 &&
              this.changeImage(this.album.length - 1)
          : 39 === b &&
            (this.currentImageIndex !== this.album.length - 1
              ? this.changeImage(this.currentImageIndex + 1)
              : this.options.wrapAround &&
                this.album.length > 1 &&
                this.changeImage(0));
      }),
      (b.prototype.end = function () {
        this.disableKeyboardNav(),
          a(window).off("resize", this.sizeOverlay),
          this.$lightbox.fadeOut(this.options.fadeDuration),
          this.$overlay.fadeOut(this.options.fadeDuration),
          this.options.disableScrolling &&
            a("body").removeClass("lb-disable-scrolling");
      }),
      new b()
    );
  });
  //# sourceMappingURL=lightbox.min.map
  